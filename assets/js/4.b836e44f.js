(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{166:function(n,s,a){n.exports=a.p+"assets/img/nginx-config.c10e1a46.png"},194:function(n,s,a){n.exports=a.p+"assets/img/nginx_conf.acc74038.png"},195:function(n,s,a){n.exports=a.p+"assets/img/nginx_fxdl.8fa1e85c.jpg"},196:function(n,s,a){n.exports=a.p+"assets/img/nginx_fzjh.b96295de.png"},216:function(n,s,a){"use strict";a.r(s);var e=[function(){var n=this,s=n.$createElement,e=n._self._c||s;return e("div",{staticClass:"content"},[e("h1",{attrs:{id:"linux-安装-nginx"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linux-安装-nginx","aria-hidden":"true"}},[n._v("#")]),n._v(" linux 安装 nginx")]),n._v(" "),e("h2",{attrs:{id:"_1-服务器安装-nginx"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-服务器安装-nginx","aria-hidden":"true"}},[n._v("#")]),n._v(" 1 服务器安装 nginx")]),n._v(" "),e("ul",[e("li",[n._v("安装 ssh\n"),e("code",[n._v("yum install nginx")])]),n._v(" "),e("li",[n._v("启动 ssh\n"),e("code",[n._v("service nginx start")])]),n._v(" "),e("li",[n._v("设置开机运行\n"),e("code",[n._v("chkconfig nginx on")])])]),n._v(" "),e("h2",{attrs:{id:"_2-nginx-默认配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-nginx-默认配置","aria-hidden":"true"}},[n._v("#")]),n._v(" 2 nginx 默认配置")]),n._v(" "),e("ul",[e("li",[n._v("nginx 的配置信息在"),e("code",[n._v("/etc/nginx/")]),n._v("目录下，"),e("code",[n._v("/etc/nginx/nginx.conf")]),n._v("文件是 nginx 的默认配置\n"),e("img",{attrs:{src:a(166),alt:"nginx-config"}})]),n._v(" "),e("li",[e("code",[n._v("nginx.conf")]),n._v("文件默认引入"),e("code",[n._v("/etc/nginx/conf.d")]),n._v("目录下的"),e("code",[n._v("*.conf")]),n._v("配置文件\n"),e("img",{attrs:{src:a(194),alt:"nginx_conf"}})])]),n._v(" "),e("h2",{attrs:{id:"_3-server-虚拟机配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-server-虚拟机配置","aria-hidden":"true"}},[n._v("#")]),n._v(" 3 server 虚拟机配置")]),n._v(" "),e("p",[n._v("在"),e("code",[n._v("/etc/nginx/conf.d")]),n._v("目录新建"),e("code",[n._v("hhh.conf")]),n._v("配置文件,配置虚拟机,配置信息要以 "),e("code",[n._v(";")]),n._v(" 分号结尾")]),n._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("http{\n  log_format  hhh   '$remote_addr（地址）  $remote_user [$time_local]（时间） \"$request\"（请求）'; # 格式化日志\n  access_log  /var/log/nginx/access.log  hhh;# 日志存放地址\n  server {\n\n        listen       8081; #监听端口号\n        listen       [::]:8081;\n        server_name  www.hhh.abc; # 监听的域名,如果以该域名访问,那么会读取该配置文件\n        location / {\n            root    /data/www; # 静态文件存放地址\n            index   index.html; # 首页\n            rewrite ^(.*)\\.ng$ /index.html; # 将以`.ng`结尾的文件重定向到首页\n        }\n\n        error_page 404 /404.html;\n            location = /40x.html {\n        }\n\n        error_page 500 502 503 504 /50x.html;\n            location = /50x.html {\n        }\n    }\n}\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br"),e("span",{staticClass:"line-number"},[n._v("16")]),e("br"),e("span",{staticClass:"line-number"},[n._v("17")]),e("br"),e("span",{staticClass:"line-number"},[n._v("18")]),e("br"),e("span",{staticClass:"line-number"},[n._v("19")]),e("br"),e("span",{staticClass:"line-number"},[n._v("20")]),e("br"),e("span",{staticClass:"line-number"},[n._v("21")]),e("br"),e("span",{staticClass:"line-number"},[n._v("22")]),e("br"),e("span",{staticClass:"line-number"},[n._v("23")]),e("br")])]),e("h2",{attrs:{id:"_4-反向代理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-反向代理","aria-hidden":"true"}},[n._v("#")]),n._v(" 4 反向代理")]),n._v(" "),e("p",[n._v("在"),e("code",[n._v("hhh.conf")]),n._v("配置文件,配置"),e("code",[n._v("upstream name_hosts")]),n._v(",在"),e("code",[n._v("server/location")]),n._v("配置"),e("code",[n._v("proxy_pass")]),n._v("\neg:")]),n._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("upstream other {\n    server 118.89.106.129:80;\n}\nserver {\n\n    listen       8081;\n    listen       [::]:8081;\n    server_name  www.hhh.abc www.kkk.abc; # 监听的域名,如果以该域名访问,那么会读取该配置文件\n    location / {\n        root    /data/www;\n        index   index.html;\n        rewrite ^(.*)\\.ng$ /index.html;\n        proxy_pass http://other; # 反向代理到ohter host\n        proxy_set_header Host www.hhh.abc; # 以www.hhh.abc访问118.89.106.129:80\n    }\n\n    error_page 404 /404.html;\n        location = /40x.html {\n    }\n\n    error_page 500 502 503 504 /50x.html;\n        location = /50x.html {\n    }\n}\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br"),e("span",{staticClass:"line-number"},[n._v("16")]),e("br"),e("span",{staticClass:"line-number"},[n._v("17")]),e("br"),e("span",{staticClass:"line-number"},[n._v("18")]),e("br"),e("span",{staticClass:"line-number"},[n._v("19")]),e("br"),e("span",{staticClass:"line-number"},[n._v("20")]),e("br"),e("span",{staticClass:"line-number"},[n._v("21")]),e("br"),e("span",{staticClass:"line-number"},[n._v("22")]),e("br"),e("span",{staticClass:"line-number"},[n._v("23")]),e("br"),e("span",{staticClass:"line-number"},[n._v("24")]),e("br")])]),e("p",[e("img",{attrs:{src:a(195),alt:"nginx_反向代理"}})]),n._v(" "),e("h2",{attrs:{id:"_5-负载均衡"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-负载均衡","aria-hidden":"true"}},[n._v("#")]),n._v(" 5 负载均衡")]),n._v(" "),e("p",[n._v("在 upstream 配置多个 server,使用 weight 控制权重\n"),e("img",{attrs:{src:a(196),alt:"nginx_负载均衡"}})])])}],t=a(0),r=Object(t.a)({},function(){this.$createElement;this._self._c;return this._m(0)},e,!1,null,null,null);s.default=r.exports}}]);